# 银行卡支付快速测试指南

## 🚀 5分钟快速测试

### 步骤1：确认环境（1分钟）

1. **检查 Vercel 环境变量**
   - 访问：https://vercel.com/dashboard
   - 进入项目 → Settings → Environment Variables
   - 确认看到：
     - ✅ `VITE_STRIPE_PUBLISHABLE_KEY` = `pk_test_...`
     - ✅ `STRIPE_SECRET_KEY` = `sk_test_...`

2. **确认应用已部署**
   - 访问部署后的应用 URL
   - 或本地运行：`npm run dev`（在 client 目录）

---

### 步骤2：创建测试订单（2分钟）

1. **添加商品到购物车**
   - 选择任意商品
   - 点击"添加到购物车"

2. **提交订单**
   - 进入购物车
   - 点击"去结算"
   - 填写订单信息（可选）
   - 点击"提交订单"

---

### 步骤3：测试支付（2分钟）

1. **选择支付方式**
   - 在支付页面，点击"银行卡"或"Visa"

2. **填写测试卡号**
   ```
   卡号：4242 4242 4242 4242
   有效期：12/34
   CVV：123
   邮编：12345
   ```

3. **提交支付**
   - 点击"确认支付"
   - 等待处理完成

4. **验证结果**
   - ✅ 应该跳转到订单状态页面
   - ✅ 订单状态显示"已支付"
   - ✅ 支付方式显示"银行卡"或"Visa"

---

## ✅ 快速验证清单

- [ ] 支付表单正常显示（不是模拟支付提示）
- [ ] 可以输入卡号信息
- [ ] 支付成功并跳转
- [ ] 订单状态正确更新
- [ ] Stripe Dashboard 可以看到支付记录（可选）

---

## ❌ 如果测试失败

### 显示"Stripe支付网关未配置"
→ 检查 Vercel 环境变量是否设置

### 支付表单不显示
→ 检查浏览器控制台（F12）是否有错误

### 支付失败
→ 检查：
1. 使用的是测试卡号（`4242 4242 4242 4242`）
2. 有效期是未来日期
3. CVV 是3位数字
4. 邮编是5位数字

### 其他问题
→ 查看完整测试指南：`STRIPE_PAYMENT_TEST_GUIDE.md`

---

## 📞 需要帮助？

查看详细文档：
- 完整测试指南：`STRIPE_PAYMENT_TEST_GUIDE.md`
- 测试检查清单：`STRIPE_PAYMENT_TEST_CHECKLIST.md`
- Stripe 设置指南：`STRIPE_SETUP_GUIDE.md`

